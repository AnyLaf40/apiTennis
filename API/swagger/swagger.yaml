swagger: '2.0'
info:
  description: >- 
    **API Tennis** est une API qui permet d'obtenir des informations relatives au monde du tennis professionnel :

    * Joueurs

    * Matchs

    * Résultats des matchs

    * Statistiques des joueurs   
  version: 1.0.0
  title: API Tennis
  termsOfService: 'http://swagger.io/terms/'
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
host: "localhost:3000"
basePath: "/api"
apis: ["apiTennis.js"]
tags:
- name: "Joueur"
  description: "à propos d'un joueur"
- name: "Match"
  description: "à propos d'un match"
- name: "Résultats"
  description: "à propos des résultats d'un match"
- name: "Statistiques"
  description: "à propos des statistiques d'un joueur"
schemes:
- "http"
securityDefinitions:
  basicAuth:
    type: basic
  
definitions:
  Joueur:
    type: object
    required:
      - id
      - nom
      - prenom
      - age
      - taille
      - classement
    properties:
      nom:
        type: string
      prenom:
        type: string
      age:
        type: integer
        format: int
      taille:
        type: string
      classement:
        type: integer
        format: int

  Match:    
    type: object
    required:
      - id
      - J1
      - J2
      - date
      - lieu
      - court
      - meteo
    properties:
      id:
        type: integer
        format: int
      J1:
        type: string
      J2:
        type: string
      date:
        type: string
        format: date
      lieu:
        type: string
      court:
        type: string
      meteo:
        type: string

  Resultats:
    type: object
    required:
      - J1
      - J2
      - Vainqueur
      - date
      - lieu
      - court
      - set1
      - set2
      - set3
      - set4
      - set5
    properties:
      J1:
        type: string
      J2:
        type: string
      Vainqueur:
        type: string
      date:
        type: integer
        format: date
      court:
        type: string
      set1:
        type: string
      set2:
        type: string
      set3:
        type: string
      set4:
        type: string
      set5:
        type: string

  Statistiques:
    type: object
    required:
      - name
      - statsVictoires
    properties:
      name:
        type: string
      statsVictoires:
        type: string

paths:
  /joueurs:
    get:
      tags:
        - "Joueur"
      summary: "Voir la liste de tous les joueurs"
      description: ''
      produces:
        - application/json
      responses:
        '200':
          description: OK
          schema:
            type: array
            items:
              $ref: '#/definitions/Joueur'
    
  /joueur?nom={nom}&prenom={prenom}:
    get: 
      tags:
      - "Joueur"
      summary: "Rechercher un joueur"
      description: "Veuillez renseigner les champs \"nom\" et \"prenom\"."
      parameters:
        - in: "query"
          name: "nom"
          type: "string"
          required: false
          description: "Nom du joueur"
        - in: "query"
          name: "prenom"
          type: "string"
          required: false
          description: "Prénom du joueur"
      produces:
      - "application/json"
      responses:
        404:
          description: "Not Found"
        200:
          description: "OK"
          schema:
            $ref: "#/definitions/Joueur"
  
  /prochainsMatchs/{nbMatchs}:
    get: 
      tags:
      - "Match"
      summary: "Voir les prochains matchs"
      description: "Veuillez renseignez le champs \"nbMatchs\""
      parameters:
        - in: "query"
          name: "nbMatchs"
          type: "integer"
          format: "int"
          required: false
          description: "Nombre de matchs"
      produces:
      - "application/json"
      responses:
        404:
          description: "Not Found"
        200:
          description: "OK"
          schema:
            $ref: "#/definitions/Match"
  
  /resultats/{nomDuJoueur}/{nbMatchs}:
    get: 
      tags:
      - "Résultats"
      summary: "Voir les résultats d'un match"
      description: "Veuillez renseigner les champs \"nomDuJoueur\" et \"nbMatchs\"."
      parameters:
        - in: "query"
          name: "nomDuJoueur"
          type: "string"
          required: false
          description: "Nom du joueur"
        - in: "query"
          name: "nbMatchs"
          type: "integer"
          format: "int"
          required: false
          description: "Nombre de matchs"
      produces:
      - "application/json"
      responses:
        404:
          description: "Not Found"
        200:
          description: "OK"
          schema:
            $ref: "#/definitions/Resultats"
  
  /stats/{nomDuJoeur}/{nbMatchs}:
    get: 
      tags:
      - "Statistiques"
      summary: "Consulter les statistiques d'un joueur"
      description: "Veuillez renseigner les champs \"nomDuJoueur\" et \"nbMatchs\"."
      parameters:
        - in: "query"
          name: "nomDuJoueur"
          type: "string"
          required: false
          description: "Nom du joueur"
        - in: "query"
          name: "nbMatchs"
          type: "integer"
          format: "int"
          required: false
          description: "Nombre de matchs"
      produces:
      - "application/json"
      responses:
        404:
          description: "Not Found"
        200:
          description: "OK"
          schema:
            $ref: "#definitions/Statistiques"